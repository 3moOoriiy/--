#!/bin/bash

# ๐ ุณูุฑูุจุช ุงูุชุซุจูุช ุงูุณุฑูุน | Quick Setup Script
# ูููู ุชุดุบูู ูุฐุง ุงูููู ูุชุซุจูุช ูุชุดุบูู ุงููุดุฑูุน ุชููุงุฆูุงู

echo "======================================"
echo "๐ฐ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุฑุจุงุญ ูุงูุฎุณุงุฆุฑ"
echo "Profit & Loss Management System"
echo "======================================"
echo ""

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python 3 ุบูุฑ ูุซุจุช!"
    echo "โ Python 3 is not installed!"
    echo "ูุฑุฌู ุชุซุจูุช Python ูู: https://www.python.org/downloads/"
    exit 1
fi

echo "โ Python ูุซุจุช"
echo ""

# ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
echo "๐ฆ ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ..."
echo "๐ฆ Creating virtual environment..."
python3 -m venv venv

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
echo "โจ ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ..."
echo "โจ Activating virtual environment..."

# ููุฃูุธูุฉ ุงููุฎุชููุฉ
if [[ "$OSTYPE" == "msys" ]] || [[ "$OSTYPE" == "win32" ]]; then
    # Windows
    source venv/Scripts/activate
else
    # Mac/Linux
    source venv/bin/activate
fi

# ุชุญุฏูุซ pip
echo "โฌ๏ธ ุชุญุฏูุซ pip..."
echo "โฌ๏ธ Updating pip..."
pip install --upgrade pip

# ุชุซุจูุช ุงููุชุทูุจุงุช
echo "๐ฅ ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ..."
echo "๐ฅ Installing required packages..."
pip install -r requirements.txt

echo ""
echo "======================================"
echo "โ ุชู ุงูุชุซุจูุช ุจูุฌุงุญ!"
echo "โ Installation completed successfully!"
echo "======================================"
echo ""

# ุชุดุบูู ุงูุชุทุจูู
echo "๐ ุชุดุบูู ุงูุชุทุจูู..."
echo "๐ Starting the application..."
echo ""
echo "ุงูุชุทุจูู ุณูุนูู ุนูู: http://localhost:8501"
echo "The app will run on: http://localhost:8501"
echo ""
echo "ููุฅููุงู ุงุถุบุท: Ctrl+C"
echo "To stop press: Ctrl+C"
echo ""

streamlit run app.py
